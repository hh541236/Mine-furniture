{"version":3,"file":"js/50.45be4b20.js","mappings":"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","sources":["webpack://final/./src/views/OrderView.vue","webpack://final/./src/views/OrderView.vue?77c4"],"sourcesContent":["<template>\r\n  <div class=\"container my-5 my-lg-6\">\r\n    <div class=\"row row-cols-1 row-cols-lg-4 g-3 align-items-center\">\r\n      <div\r\n        class=\"col d-none d-lg-block bg-dark text-light border border-2 border-white\"\r\n      >\r\n        <p class=\"mb-0 px-3 py-4 h5\">購物車結帳流程</p>\r\n      </div>\r\n      <div class=\"col d-none d-lg-block bg-light border border-2 border-white\">\r\n        <p class=\"mb-0 px-3 py-4 h5\">1. 放入購物車</p>\r\n      </div>\r\n      <div class=\"col bg-dark text-light border border-2 border-white\">\r\n        <p class=\"mb-0 px-3 py-4 h5\">2. 資料確認</p>\r\n      </div>\r\n      <div class=\"col d-none d-lg-block bg-light border border-2 border-white\">\r\n        <p class=\"mb-0 px-3 py-4 h5\">3. 完成購物</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"container\" v-if=\"this.cartData.carts.length\">\r\n    <h2>選購的商品</h2>\r\n    <table class=\"table align-middle\">\r\n      <thead>\r\n        <tr>\r\n          <th>圖片</th>\r\n          <th>商品名稱</th>\r\n          <th>單一價格</th>\r\n          <th>數量</th>\r\n          <th>單品總價</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"product in cartData.carts\" :key=\"product.id\">\r\n          <td style=\"width: 200px\">\r\n            <div\r\n              :style=\"{\r\n                backgroundImage: `url(${product.product.imageUrl})`,\r\n              }\"\r\n              style=\"\r\n                height: 100px;\r\n                background-size: cover;\r\n                background-position: center;\r\n              \"\r\n            ></div>\r\n          </td>\r\n          <td>\r\n            {{ product.product.title }}\r\n          </td>\r\n          <td>\r\n            <div class=\"h5\" v-if=\"product.product.price === product.product.origin_price\">\r\n              現在只要 {{ product.product.price }} 元\r\n            </div>\r\n            <div v-else>\r\n              <del class=\"h6\">原價 {{ product.product.origin_price }} 元</del>\r\n              <div class=\"h5\">現在只要 {{ product.product.price }} 元</div>\r\n            </div>\r\n          </td>\r\n          <td>\r\n            {{ product.qty }}\r\n          </td>\r\n          <td>\r\n            $ {{product.total}}\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <!-- footer -->\r\n    <div class=\"row mb-3\">\r\n      <div class=\"col-md-12 text-end\">\r\n        <p>\r\n          應付金額\r\n          <span class=\"h4 fw-bold text-danger ms-1 ms-lg-2\">\r\n            NT$ {{ Math.round(cartData.total) }}\r\n         </span>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <v-form v-slot=\"{ errors }\" ref=\"form\" @submit=\"onSubmit\" class=\"row justify-content-center\">\r\n      <div class=\"col-lg-8\">\r\n        <h1 class=\"h4 text-center fw-bold mb-3\">訂單資訊</h1>\r\n        <div class=\"mb-3\">\r\n          <label for=\"email\" class=\"form-label\">收件人信箱</label>\r\n          <v-field\r\n            id=\"email\"\r\n            name=\"email\"\r\n            type=\"email\"\r\n            class=\"form-control\"\r\n            :class=\"{ 'is-invalid': errors['email'] }\"\r\n            placeholder=\"請輸入 Email\"\r\n            rules=\"email|required\"\r\n            v-model=\"form.user.email\"\r\n          ></v-field>\r\n          <error-message name=\"email\" class=\"invalid-feedback\"></error-message>\r\n        </div>\r\n\r\n        <div class=\"mb-3\">\r\n          <label for=\"name\" class=\"form-label\">收件人姓名</label>\r\n          <v-field\r\n            id=\"name\"\r\n            name=\"姓名\"\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            :class=\"{ 'is-invalid': errors['姓名'] }\"\r\n            placeholder=\"請輸入姓名\"\r\n            rules=\"max:12||required\"\r\n            v-model=\"form.user.name\"\r\n          ></v-field>\r\n          <error-message name=\"姓名\" class=\"invalid-feedback\"></error-message>\r\n        </div>\r\n\r\n        <div class=\"mb-3\">\r\n          <label for=\"tel\" class=\"form-label\">收件人手機號碼</label>\r\n          <v-field\r\n            id=\"tel\"\r\n            name=\"電話\"\r\n            type=\"tel\"\r\n            class=\"form-control\"\r\n            :class=\"{ 'is-invalid': errors['電話'] }\"\r\n            placeholder=\"請輸入電話\"\r\n            v-model=\"form.user.tel\"\r\n            :rules=\"isFormPhone\"\r\n          ></v-field>\r\n          <error-message name=\"電話\" class=\"invalid-feedback\"></error-message>\r\n        </div>\r\n\r\n        <div class=\"mb-3\">\r\n          <label for=\"address\" class=\"form-label\">收件人地址</label>\r\n          <v-field\r\n            id=\"address\"\r\n            name=\"地址\"\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            :class=\"{ 'is-invalid': errors['地址'] }\"\r\n            placeholder=\"請輸入地址\"\r\n            rules=\"required\"\r\n            v-model=\"form.user.address\"\r\n          ></v-field>\r\n          <error-message name=\"地址\" class=\"invalid-feedback\"></error-message>\r\n        </div>\r\n\r\n        <div class=\"mb-3\">\r\n          <label for=\"message\" class=\"form-label\">留言</label>\r\n          <textarea\r\n            id=\"message\"\r\n            class=\"form-control\"\r\n            cols=\"30\"\r\n            rows=\"10\"\r\n            v-model=\"form.message\"\r\n          ></textarea>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-lg-8 text-end my-3 my-lg-4\">\r\n        <div class=\"row\">\r\n          <div class=\"col-lg-6 mb-3 my-lg-0\">\r\n            <button\r\n              class=\"btn btn-outline-dark w-100\"\r\n              @click=\"goBackPage\"\r\n              type=\"button\"\r\n            >\r\n              回上一頁\r\n            </button>\r\n          </div>\r\n          <div class=\"col-lg-6 my-1 my-lg-0\">\r\n            <button\r\n              class=\"btn btn-primary w-100\"\r\n              :disabled=\"Object.keys(errors).length > 0 || cartData.total === 0\"\r\n              type=\"submit\"\r\n            >\r\n              送出訂單\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n  </v-form>\r\n</template>\r\n\r\n<script>\r\nimport emitter from '@/utils/emitter'\r\nexport default {\r\n  data () {\r\n    return {\r\n      // 購物車列表\r\n      cartData: {\r\n        carts: []\r\n      },\r\n      isLoadingItem: '',\r\n      form: {\r\n        user: {\r\n          name: '',\r\n          email: '',\r\n          tel: '',\r\n          address: ''\r\n        },\r\n        message: ''\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    getCart () {\r\n      const url = `${process.env.VUE_APP_API}/v2/api/${process.env.VUE_APP_PATH}/cart`\r\n      this.$http.get(url)\r\n        .then((res) => {\r\n          this.cartData = res.data.data\r\n          emitter.emit('get-cart')\r\n          this.isLoading = false\r\n        })\r\n    },\r\n    goBackPage () {\r\n      this.$router.go(-1)\r\n    },\r\n    isFormPhone (value) {\r\n      const phoneNumber = /^(09)[0-9]{8}$/\r\n      return phoneNumber.test(value) ? true : '需要正確的電話號碼'\r\n    },\r\n    onSubmit () {\r\n      const order = this.form\r\n      this.$http\r\n        .post(\r\n          `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/order`,\r\n          { data: order }\r\n        )\r\n        .then((res) => {\r\n          alert(res.data.message)\r\n          this.$refs.form.resetForm()\r\n          this.getCart()\r\n          this.$router.push('/result')\r\n        })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getCart()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./OrderView.vue?vue&type=template&id=17001d4b\"\nimport script from \"./OrderView.vue?vue&type=script&lang=js\"\nexport * from \"./OrderView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\Hex_School\\\\Vue_Homework\\\\final\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","style","for","_hoisted_1","cartData","carts","length","_createElementBlock","_hoisted_3","_hoisted_5","_Fragment","_renderList","$data","product","key","id","imageUrl","_toDisplayString","title","price","origin_price","_hoisted_8","qty","total","Math","round","_createVNode","_component_v_form","ref","onSubmit","$options","errors","_hoisted_16","_hoisted_18","_component_v_field","name","type","placeholder","rules","user","email","$event","_component_error_message","_hoisted_20","_hoisted_22","tel","_hoisted_24","address","_hoisted_26","cols","rows","message","onClick","disabled","Object","keys","_hoisted_31","data","isLoadingItem","form","methods","getCart","url","this","$http","get","then","res","emitter","isLoading","goBackPage","$router","go","isFormPhone","value","phoneNumber","test","order","post","alert","$refs","resetForm","push","mounted","__exports__","render"],"sourceRoot":""}